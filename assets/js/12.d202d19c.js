(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{504:function(t,s,a){"use strict";a.r(s);var r=a(2),e=Object(r.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"mongodb-使用-centos-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-使用-centos-7"}},[t._v("#")]),t._v(" MongoDB 使用(Centos 7)")]),t._v(" "),a("h3",{attrs:{id:"安装-mongodb-4-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-mongodb-4-4"}},[t._v("#")]),t._v(" 安装 MongoDB 4.4")]),t._v(" "),a("ol",[a("li",[t._v("配置程序包管理系统("),a("code",[t._v("yum")]),t._v(")")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("vi "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("yum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("repos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mongodb"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("org"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("repo\n")])])]),a("p",[t._v("将以下内容粘贴进去")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("mongodb"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("org"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nname"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("MongoDB Repository\nbaseurl"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("https"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("repo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mongodb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("org"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("yum"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("redhat"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("$releasever"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mongodb"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("org"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.4")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("x86_64"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\ngpgcheck"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nenabled"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\ngpgkey"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("https"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mongodb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("org"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("pgp"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("server"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("asc\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("name         # 名称\nbaseurl      # 获得下载的路径\ngpkcheck"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("   # 表示对从这个源下载的rpm包进行校验；\nenable"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("     # 表示启用这个源。\ngpgkey       # gpg验证\n")])])]),a("p",[a("kbd",[t._v("ESC")]),t._v(" 输入 "),a("code",[t._v(":wq")]),t._v(" 保存并退出")]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("用"),a("code",[t._v("yum")]),t._v("安装"),a("code",[t._v("mongoDB")]),t._v("最新稳定版")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("sudo yum install "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("y mongodb"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("org\n")])])]),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("另外")]),t._v(" "),a("p",[t._v("另外，要安装特定版本的"),a("code",[t._v("MongoDB")]),t._v("，请分别指定每个组件包，并将版本号附加到包名中，如以下示例所示：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("sudo yum install "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("y mongodb"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("org"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.4")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".2")]),t._v(" mongodb"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("org"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("server"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.4")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".2")]),t._v(" mongodb"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("org"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("shell"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.4")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".2")]),t._v(" mongodb"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("org"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("mongos"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.4")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".2")]),t._v(" mongodb"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("org"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("tools"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.4")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".2")]),t._v("\n")])])]),a("p",[t._v("您可以指定任何可用的"),a("code",[t._v("MongoDB")]),t._v("版本。但是"),a("code",[t._v("yum")]),t._v(" ，当有新版本可用时，将升级软件包。为防止意外升级，请固定包装。要固定包，"),a("code",[t._v("exclude")]),t._v("请在"),a("code",[t._v("/etc/yum.conf")]),t._v("文件中添加以下指令：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("exclude"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("mongodb"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("mongodb"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("org"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("server"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("mongodb"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("org"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("shell"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("mongodb"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("org"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("mongos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("mongodb"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("org"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("tools\n")])])])]),t._v(" "),a("p",[t._v("* 下载过程可能有点慢，出现"),a("code",[t._v("Complete！")]),t._v("才是下载完成了")]),t._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[t._v("验证安装结果")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("rpm "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("qa "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" grep mongodb\n")])])]),a("p",[t._v("输出结果如下:")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@alcloud "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("# rpm "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("qa "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" grep mongodb\nmongodb"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("org"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("tools"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.4")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.")]),t._v("el7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x86_64\nmongodb"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("org"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("server"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.4")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.")]),t._v("el7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x86_64\nmongodb"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("org"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("database"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("tools"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("extra"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.4")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.")]),t._v("el7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x86_64\nmongodb"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("org"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("shell"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.4")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.")]),t._v("el7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x86_64\nmongodb"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("org"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.4")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.")]),t._v("el7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x86_64\nmongodb"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("database"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("tools"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100.2")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.")]),t._v("x86_64\nmongodb"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("org"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("mongos"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.4")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.")]),t._v("el7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x86_64\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@alcloud "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("#\n")])])]),a("p",[t._v("查看"),a("code",[t._v("mongoDB")]),t._v("安装和位置")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("rpm "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ql mongodb"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("org"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("server\n")])])]),a("p",[t._v("输出结果如下:")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@alcloud "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("# rpm "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ql mongodb"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("org"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("server\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mongod"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("conf\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("lib"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("systemd"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("system"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mongod"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("service\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mongod\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("share"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("doc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mongodb"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("org"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("server"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.4")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("share"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("doc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mongodb"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("org"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("server"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.4")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("LICENSE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Community"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("share"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("doc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mongodb"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("org"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("server"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.4")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MPL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("share"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("doc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mongodb"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("org"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("server"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.4")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("README")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("share"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("doc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mongodb"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("org"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("server"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.4")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("THIRD")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PARTY")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NOTICES")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("share"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("man"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("man1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mongod"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("lib"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mongo\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("log"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mongodb\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("log"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mongodb"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mongod"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("log\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("run"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mongodb\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@alcloud "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("#\n")])])]),a("h3",{attrs:{id:"启动-mongodb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动-mongodb"}},[t._v("#")]),t._v(" 启动 MongoDB")]),t._v(" "),a("ol",[a("li",[t._v("启动 "),a("code",[t._v("MongoDB")]),t._v(" 服务")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("sudo service mongod start  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//开启 MongoDB")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//或者")]),t._v("\nsystemctl start mongod"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("service  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 开启 MongoDB")]),t._v("\nsudo chkconfig mongod on  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 加入开机启动")]),t._v("\nsudo service mongod restart "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 重启 MongoDB")]),t._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("关闭 "),a("code",[t._v("MongoDB")])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("sudo service mongod stop\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("查看端口是否开启")])]),t._v(" "),a("p",[a("code",[t._v("MongoDB")]),t._v(" 默认端口是 "),a("code",[t._v("27017")]),t._v("，使用命令查看是否开启端口")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("netstat "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("natp "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" grep "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("27017")]),t._v("\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[t._v("检查数据库进程是否存在")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("ps "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("aux "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" grep mongod\n")])])]),a("ol",{attrs:{start:"5"}},[a("li",[t._v("验证服务是否开启")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("mongo\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ol",{attrs:{start:"6"}},[a("li",[t._v("卸载"),a("code",[t._v("MongoDB")])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("sudo yum erase "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rpm "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("qa "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" grep mongodb"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 卸载 MongoDB")]),t._v("\nsudo rm "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("log"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mongodb  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 删除日志文件")]),t._v("\nsudo rm "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("lib"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mongo    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 删除数据文件")]),t._v("\n")])])]),a("h3",{attrs:{id:"配置远程连接-mongodb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置远程连接-mongodb"}},[t._v("#")]),t._v(" 配置远程连接 MongoDB")]),t._v(" "),a("ol",[a("li",[t._v("修改配置文件 "),a("code",[t._v("mongodb.conf")])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("vi "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mongod"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("conf\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",[t._v("修改绑定 "),a("code",[t._v("ip")]),t._v("， 默认 "),a("code",[t._v("bindIp:127.0.0.1")]),t._v(" 只允许本地连接，所以修改为 "),a("code",[t._v("bindIp:0.0.0.0")]),t._v(", 让数据库可以被任何位置访问,退出保存。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("# network interfaces\nnet"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n  port"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("27017")]),t._v("\n  bindIp"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".0")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".0")]),t._v("  # Enter "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".0")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" to bind to all IPv4 and IPv6 addresses or"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" alternatively"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" use the net"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bindIpAll setting"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])])])]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("重启 "),a("code",[t._v("MongoDB")]),t._v(" 服务")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("sudo service mongod restart\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("开放对外端口")])]),t._v(" "),a("p",[t._v("在防火墙中放行指定的端口：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("systemctl status firewalld\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 查看防火墙状态")]),t._v("\nfirewall"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("cmd "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("zone"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("add"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("port"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("27017")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("tcp "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("permanent\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// mongodb默认端口号")]),t._v("\nfirewall"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("cmd "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("reload\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 重新加载防火墙")]),t._v("\nfirewall"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("cmd "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("zone"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("query"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("port"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("27017")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("tcp\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 查看端口号是否开放成功，输出yes开放成功，no则失败")]),t._v("\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[t._v("测试远程连接")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("mongo "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".132")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("27017")]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"添加用户名和密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加用户名和密码"}},[t._v("#")]),t._v(" 添加用户名和密码")]),t._v(" "),a("ol",[a("li",[t._v("为 "),a("code",[t._v("admin")]),t._v(" 数据库创建用户，设置用户名、密码和权限")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("show dbs # 显示所有的数据库\nuse admin # 切换到 admin 数据库\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createUser")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pwd"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'999888'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("roles"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("auth")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'999888'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n# 其他常用命令\n# db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("changeUserPassword")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("     # 修改密码\n# db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateUser")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("roles"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("role"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"read"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("db"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"testDB"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" # 更新用户权限\n# db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("dropUser")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" # 删除用户\n# db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createUser")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cjx'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pwd"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'999888'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("roles"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'userAdminAnyDatabase'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" # 赋予用户所有数据库的userAdmin权限\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("为其他数据库创建用户，设置用户名、密码和权限")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("use test\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createUser")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" user"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cjx"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pwd"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"999888"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" roles"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"readWrite"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dbAdmin"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("auth")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cjx'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'999888'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("修改 "),a("code",[t._v("mongodb.conf")]),t._v("("),a("code",[t._v("MongoDB")]),t._v("主配置文件) 文件，启用身份验证")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("vi "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mongod"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("conf\n")])])]),a("p",[t._v("添加如下内容：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("security"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n  authorization"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" enabled   # disable or enabled\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[t._v("重启 "),a("code",[t._v("MongoDB")]),t._v(" 服务")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("sudo service mongod restart\n")])])]),a("ol",{attrs:{start:"5"}},[a("li",[t._v("测试远程或本地连接使用账号密码登录打开"),a("code",[t._v("mongo")])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("mongo "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".132")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("27017")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("database "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("u username "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p password "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("port "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("27017")]),t._v("\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("u username  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//用户名")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p password  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//密码")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("port "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("27017")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//端口")]),t._v("\n")])])]),a("p",[t._v("* 注意这里的"),a("code",[t._v("ip")]),t._v("地址不用"),a("code",[t._v("http://")]),t._v(",直接加"),a("code",[t._v("ip")]),t._v(".")]),t._v(" "),a("p",[t._v("用户权限角色说明:")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("规则")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("root")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("只在"),a("code",[t._v("admin")]),t._v("数据库中可用。超级账号，超级权限")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("Read")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("允许用户读取指定数据库")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("readWrite")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("允许用户读写指定数据库")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("dbAdmin")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("允许用户在指定数据库中执行管理函数，如索引创建、删除，查看统计或访问"),a("code",[t._v("system.profile")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("userAdmin")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("允许用户向"),a("code",[t._v("system.users")]),t._v("集合写入，可以找指定数据库里创建、删除和管理用户")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("clusterAdmin")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("只在"),a("code",[t._v("admin")]),t._v("数据库中可用，赋予用户所有分片和复制集相关函数的管理权限")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("readAnyDatabase")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("只在"),a("code",[t._v("admin")]),t._v("数据库中可用，赋予用户所有数据库的读权限")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("readWriteAnyDatabase")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("只在"),a("code",[t._v("admin")]),t._v("数据库中可用，赋予用户所有数据库的读写权限")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("userAdminAnyDatabase")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("只在"),a("code",[t._v("admin")]),t._v("数据库中可用，赋予用户所有数据库的"),a("code",[t._v("userAdmin")]),t._v("权限")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[t._v("dbAdminAnyDatabase")])]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("只在"),a("code",[t._v("admin")]),t._v("数据库中可用，赋予用户所有数据库的"),a("code",[t._v("dbAdmin")]),t._v("权限")])])])])])}),[],!1,null,null,null);s.default=e.exports}}]);