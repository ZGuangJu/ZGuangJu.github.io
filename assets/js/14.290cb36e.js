(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{505:function(t,e,l){"use strict";l.r(e);var a=l(2),v=Object(a.a)({},(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[l("h2",{attrs:{id:"mongod-命令参数"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#mongod-命令参数"}},[t._v("#")]),t._v(" Mongod 命令参数")]),t._v(" "),l("ul",[l("li",[t._v("基本配置")])]),t._v(" "),l("table",[l("thead",[l("tr",[l("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),l("tbody",[l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("-u")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 用户名")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("-p")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 密码")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--quiet")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 安静输出")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--port arg")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 指定服务端口号，默认端口27017")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--bind_ip arg")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 绑定服务IP，若绑定127.0.0.1，则只能本机访问，不指定默认本地所有IP")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--logpath arg")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 指定MongoDB日志文件，注意是指定文件不是目录")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--logappend")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 使用追加的方式写日志")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--pidfilepath arg")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# PID File 的完整路径，如果没有设置，则没有PID文件")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--keyFile arg")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 集群的私钥的完整路径，只对于Replica Set 架构有效")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--unixSocketPrefix arg")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# UNIX域套接字替代目录,(默认为 /tmp)")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--fork")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 以守护进程的方式运行MongoDB，创建服务器进程")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--auth")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 启用验证")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--cpu")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 定期显示CPU的CPU利用率和iowait")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--dbpath arg")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 指定数据库路径")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--diaglog arg")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# diaglog选项 0=off 1=W 2=R 3=both 7=W+some reads")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--directoryperdb")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 设置每个数据库将被保存在一个单独的目录")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--journal")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 启用日志选项，MongoDB的数据操作将会写入到journal文件夹的文件里")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--journalOptions arg")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 启用日志诊断选项")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--ipv6")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 启用IPv6选项")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--jsonp")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 允许JSONP形式通过HTTP访问（有安全影响）")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--maxConns arg")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 最大同时连接数 默认2000")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--noauth")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 不启用验证")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--nohttpinterface")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 关闭http接口，默认关闭27018端口访问")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--noprealloc")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 禁用数据文件预分配(往往影响性能)")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--noscripting")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 禁用脚本引擎")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--notablescan")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 不允许表扫描")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--nounixsocket")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 禁用Unix套接字监听")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--nssize arg (=16)")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 设置信数据库.ns文件大小(MB)")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--objcheck")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 在收到客户数据,检查的有效性，")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--profile arg")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 档案参数 0=off 1=slow, 2=all")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--quota")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 限制每个数据库的文件数，设置默认为8")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--quotaFiles arg")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# number of files allower per db, requires --quota")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--rest")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 开启简单的rest API")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--repair")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 修复所有数据库run repair on all dbs")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--repairpath arg")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 修复库生成的文件的目录,默认为目录名称dbpath")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--slowms arg (=100)")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# value of slow for profile and console log")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--smallfiles")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 使用较小的默认文件")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--syncdelay arg (=60)")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 数据写入磁盘的时间秒数(0=never,不推荐)")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--sysinfo")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 打印一些诊断系统信息")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--upgrade")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 如果需要升级数据库")])])])]),t._v(" "),l("p",[t._v("Replicaton 参数")]),t._v(" "),l("table",[l("thead",[l("tr",[l("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),l("tbody",[l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--fastsync")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 从一个dbpath里启用从库复制服务，该dbpath的数据库是主库的快照，可用于快速启用同步")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--autoresync")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 如果从库与主库同步数据差得多，自动重新同步，")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--oplogSize arg")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 设置oplog的大小(MB)")])])])]),t._v(" "),l("p",[t._v("主从参数")]),t._v(" "),l("table",[l("thead",[l("tr",[l("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),l("tbody",[l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--master")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 主库模式")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--slave")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 从库模式")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--source arg")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 从库 端口号")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--only arg")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 指定单一的数据库复制")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--slavedelay arg")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 设置从库同步主库的延迟时间")])])])]),t._v(" "),l("p",[t._v("Replica set(副本集)选项：")]),t._v(" "),l("table",[l("thead",[l("tr",[l("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),l("tbody",[l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--replSet arg")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 设置副本集名称")])])])]),t._v(" "),l("p",[t._v("Sharding(分片)选项")]),t._v(" "),l("table",[l("thead",[l("tr",[l("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),l("tbody",[l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--configsvr")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 声明这是一个集群的config服务,默认端口27019，默认目录/data/configdb")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--shardsvr")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 声明这是一个集群的分片,默认端口27018")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("--noMoveParanoia")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("# 关闭偏执为moveChunk数据保存")])])])]),t._v(" "),l("p",[t._v("上述参数都可以写入 mongod.conf 配置文档里例如：")]),t._v(" "),l("div",{staticClass:"language-js extra-class"},[l("pre",{pre:!0,attrs:{class:"language-js"}},[l("code",[t._v("dbpath "),l("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),l("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("data"),l("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mongodb\nlogpath "),l("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),l("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("data"),l("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mongodb"),l("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("mongodb"),l("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("log\nlogappend "),l("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),l("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\nport "),l("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),l("span",{pre:!0,attrs:{class:"token number"}},[t._v("27017")]),t._v("\nfork "),l("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),l("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\nauth "),l("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),l("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n")])])])])}),[],!1,null,null,null);e.default=v.exports}}]);